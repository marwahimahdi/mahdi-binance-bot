services:
  - type: worker
    name: mahdi-bot-worker
    env: python
    plan: starter
    autoDeploy: true
    buildCommand: pip install -r requirements.txt
    startCommand: python main_v4_1r_tg_live_20pct4.py
    region: frankfurt
    envVars:
      - key: API_KEY
        sync: false
      - key: API_SECRET
        sync: false
      - key: USE_TESTNET
        value: "false"
      - key: RUN_MODE
        value: "live"
      - key: INTERVAL
        value: "5m"
      - key: MAX_SYMBOLS
        value: "16"
      - key: SCAN_INTERVAL_SEC
        value: "45"
      - key: COOLDOWN_MIN
        value: "45"
      - key: KLINES_LIMIT
        value: "200"
      - key: HEARTBEAT_MIN
        value: "30"
      - key: CONSENSUS_RATIO
        value: "0.6"
      - key: MIN_AGREE
        value: "1"
      - key: ADX_MIN
        value: "15"
      - key: ATR_PCT_MIN
        value: "0.002"
      - key: TOTAL_CAPITAL_PCT
        value: "0.20"
      - key: MAX_OPEN_TRADES
        value: "4"
      - key: PER_TRADE_PCT
        value: "0.05"
      - key: LEVERAGE
        value: "5"
      - key: TAKE_PROFIT_PCT
        value: "0.006"
      - key: STOP_LOSS_PCT
        value: "0.004"
      - key: TELEGRAM_TOKEN
        sync: false
      - key: TELEGRAM_CHAT_ID
        value: "778527406"
      - key: SYMBOLS_CSV
        value: "universe.csv"
